# shellcheck shell=bash

test.run.all() {
    for i in $(typeset -F | cut -d ' ' -f 3 | grep "tc:" | grep -v "tc:setup" | grep -v "tc:teardown"); do
        echo hi
        tc:setup
        @catch-final "
            Test Fail: codeline \$LINENO
        " "
            echo 'final'
            # aaa # Wrong command
        "
        eval "$i"
        tc:teardown
    done
}

tc.info(){
    echo hi
}


# TODO: We have to honor the TAP protocol
# TODO: Please follow http://testanything.org/tap-specification.html

test.tap(){
    # Version
    echo "TAP version 13" >&3

    # The Plan
    echo "1..${NUMBER_OF_TESTCASE}"

    # Test Line
    echo "ok $INDEX $DESCRIPTION"

    echo "not ok $INDEX $DESCRIPTION"
}

